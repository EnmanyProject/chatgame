<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” ìºë¦­í„° ì €ì¥ ë””ë²„ê¹…</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f6fa;
        }
        .debug-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 10px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .error { color: #e74c3c; font-weight: bold; }
        .success { color: #27ae60; font-weight: bold; }
        .warning { color: #f39c12; font-weight: bold; }
        .info { color: #3498db; font-weight: bold; }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover { background: #2980b9; }
        .btn.danger { background: #e74c3c; }
        .btn.success { background: #27ae60; }

        .log-output {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            margin: 10px 0;
        }

        input[type="text"], input[type="password"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 5px 0;
        }

        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }
        .status-ok { background: #27ae60; }
        .status-error { background: #e74c3c; }
        .status-unknown { background: #95a5a6; }
    </style>
</head>
<body>
    <div class="debug-container">
        <h1>ğŸ” ìºë¦­í„° ì €ì¥ ë””ë²„ê¹… ë„êµ¬</h1>
        <p>ì‹œë‚˜ë¦¬ì˜¤ ì–´ë“œë¯¼ì—ì„œ ìºë¦­í„° ì €ì¥ì´ ì•ˆ ë˜ëŠ” ë¬¸ì œë¥¼ ë‹¨ê³„ë³„ë¡œ ì§„ë‹¨í•©ë‹ˆë‹¤.</p>
    </div>

    <!-- 1ë‹¨ê³„: ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ í™•ì¸ -->
    <div class="debug-container">
        <h2>ğŸ“¦ 1ë‹¨ê³„: í•„ìˆ˜ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ í™•ì¸</h2>
        <button class="btn" onclick="checkScriptLoading()">ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìƒíƒœ í™•ì¸</button>
        <div id="scriptStatus"></div>
    </div>

    <!-- 2ë‹¨ê³„: GitHub Token í™•ì¸ -->
    <div class="debug-container">
        <h2>ğŸ” 2ë‹¨ê³„: GitHub Token ì„¤ì •</h2>
        <input type="password" id="githubToken" placeholder="GitHub Personal Access Token ì…ë ¥">
        <button class="btn" onclick="setGitHubToken()">í† í° ì„¤ì •</button>
        <button class="btn" onclick="testGitHubConnection()">ì—°ê²° í…ŒìŠ¤íŠ¸</button>
        <div id="tokenStatus"></div>
    </div>

    <!-- 3ë‹¨ê³„: ì˜¨ë¼ì¸ í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ -->
    <div class="debug-container">
        <h2>ğŸŒ 3ë‹¨ê³„: ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸</h2>
        <button class="btn" onclick="testOnlineClient()">í´ë¼ì´ì–¸íŠ¸ ë¡œë“œ í…ŒìŠ¤íŠ¸</button>
        <button class="btn" onclick="testCharacterLoad()">ìºë¦­í„° ë¡œë“œ í…ŒìŠ¤íŠ¸</button>
        <div id="clientStatus"></div>
    </div>

    <!-- 4ë‹¨ê³„: ìºë¦­í„° ì €ì¥ í…ŒìŠ¤íŠ¸ -->
    <div class="debug-container">
        <h2>ğŸ‘¤ 4ë‹¨ê³„: ìºë¦­í„° ì €ì¥ í…ŒìŠ¤íŠ¸</h2>
        <input type="text" id="testCharName" placeholder="í…ŒìŠ¤íŠ¸ ìºë¦­í„° ì´ë¦„" value="ë””ë²„ê·¸í…ŒìŠ¤íŠ¸">
        <select id="testCharMbti">
            <option value="">MBTI ì„ íƒ</option>
            <option value="INFP">INFP</option>
            <option value="ENFP">ENFP</option>
            <option value="INTJ">INTJ</option>
            <option value="ESFJ">ESFJ</option>
            <option value="ISTP">ISTP</option>
        </select>
        <br>
        <button class="btn success" onclick="testCharacterSave()">í…ŒìŠ¤íŠ¸ ìºë¦­í„° ì €ì¥</button>
        <button class="btn danger" onclick="cleanupTestData()">í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬</button>
        <div id="saveStatus"></div>
    </div>

    <!-- 5ë‹¨ê³„: ë”ë¯¸ ë°ì´í„° ê´€ë¦¬ -->
    <div class="debug-container">
        <h2>ğŸ—‘ï¸ 5ë‹¨ê³„: ë”ë¯¸ ë°ì´í„° ê´€ë¦¬</h2>
        <button class="btn" onclick="checkDummyData()">ë”ë¯¸ ë°ì´í„° í™•ì¸</button>
        <button class="btn danger" onclick="clearAllDummyData()">ëª¨ë“  ë”ë¯¸ ë°ì´í„° ì‚­ì œ</button>
        <div id="dummyStatus"></div>
    </div>

    <!-- ë¡œê·¸ ì¶œë ¥ -->
    <div class="debug-container">
        <h2>ğŸ“‹ ë””ë²„ê·¸ ë¡œê·¸</h2>
        <button class="btn" onclick="clearLog()">ë¡œê·¸ ì§€ìš°ê¸°</button>
        <div id="debugLog" class="log-output">ë””ë²„ê¹… ë¡œê·¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...\n</div>
    </div>

    <!-- ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ ë¡œë“œ -->
    <script src="js/online-data-client.js"></script>

    <script>
        let debugLog = document.getElementById('debugLog');
        let githubToken = '';

        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const colorMap = {
                'error': '#e74c3c',
                'success': '#27ae60',
                'warning': '#f39c12',
                'info': '#3498db'
            };

            const color = colorMap[type] || '#ecf0f1';
            debugLog.innerHTML += `<span style="color: ${color}">[${timestamp}] ${message}</span>\n`;
            debugLog.scrollTop = debugLog.scrollHeight;
        }

        function clearLog() {
            debugLog.innerHTML = 'ë””ë²„ê·¸ ë¡œê·¸ ì´ˆê¸°í™”ë¨...\n';
        }

        // 1ë‹¨ê³„: ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ í™•ì¸
        function checkScriptLoading() {
            log('ğŸ“¦ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìƒíƒœ í™•ì¸ ì¤‘...', 'info');

            const checks = [
                {
                    name: 'window.onlineDataClient',
                    exists: typeof window.onlineDataClient !== 'undefined',
                    description: 'ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸'
                },
                {
                    name: 'window.fetch',
                    exists: typeof window.fetch !== 'undefined',
                    description: 'Fetch API'
                },
                {
                    name: 'localStorage',
                    exists: typeof localStorage !== 'undefined',
                    description: 'LocalStorage'
                }
            ];

            let html = '<h3>ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìƒíƒœ:</h3>';
            checks.forEach(check => {
                const status = check.exists ?
                    '<span class="status-indicator status-ok"></span>âœ…' :
                    '<span class="status-indicator status-error"></span>âŒ';
                html += `<p>${status} ${check.name}: ${check.description}</p>`;

                log(`${check.exists ? 'âœ…' : 'âŒ'} ${check.name}: ${check.exists ? 'ë¡œë“œë¨' : 'ë¡œë“œ ì‹¤íŒ¨'}`,
                    check.exists ? 'success' : 'error');
            });

            document.getElementById('scriptStatus').innerHTML = html;

            if (!window.onlineDataClient) {
                log('âŒ ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!', 'error');
                log('ì›ì¸: js/online-data-client.js íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨', 'error');
            } else {
                log('âœ… ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ ë¡œë“œ í™•ì¸', 'success');
            }
        }

        // 2ë‹¨ê³„: GitHub Token ì„¤ì • ë° í…ŒìŠ¤íŠ¸
        function setGitHubToken() {
            githubToken = document.getElementById('githubToken').value.trim();

            if (!githubToken) {
                log('âŒ GitHub Tokenì´ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤', 'error');
                document.getElementById('tokenStatus').innerHTML =
                    '<p class="error">GitHub Tokenì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>';
                return;
            }

            if (githubToken.length < 20) {
                log('âš ï¸ GitHub Tokenì´ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤ (20ì ì´ìƒì´ì–´ì•¼ í•¨)', 'warning');
                document.getElementById('tokenStatus').innerHTML =
                    '<p class="warning">ìœ íš¨í•˜ì§€ ì•Šì€ í† í° ê¸¸ì´ì…ë‹ˆë‹¤</p>';
                return;
            }

            // ì˜¨ë¼ì¸ í´ë¼ì´ì–¸íŠ¸ì— í† í° ì„¤ì •
            if (window.onlineDataClient) {
                window.onlineDataClient.githubToken = githubToken;
                log('âœ… ì˜¨ë¼ì¸ í´ë¼ì´ì–¸íŠ¸ì— GitHub Token ì„¤ì • ì™„ë£Œ', 'success');
            }

            document.getElementById('tokenStatus').innerHTML =
                `<p class="success">í† í° ì„¤ì • ì™„ë£Œ (${githubToken.substring(0, 8)}...)</p>`;
            log(`âœ… GitHub Token ì„¤ì •: ${githubToken.substring(0, 8)}...`, 'success');
        }

        async function testGitHubConnection() {
            if (!githubToken) {
                log('âŒ GitHub Tokenì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            log('ğŸ” GitHub API ì—°ê²° í…ŒìŠ¤íŠ¸ ì¤‘...', 'info');

            try {
                const response = await fetch('/api/test-github-connection', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-github-token': githubToken
                    }
                });

                const result = await response.json();

                if (result.success) {
                    log('âœ… GitHub ì—°ê²° ì„±ê³µ!', 'success');
                    log(`ì‚¬ìš©ì: ${result.user.name} (@${result.user.login})`, 'info');
                    log(`ì €ì¥ì†Œ: ${result.repository.full_name}`, 'info');

                    document.getElementById('tokenStatus').innerHTML +=
                        `<p class="success">GitHub ì—°ê²° ì„±ê³µ! ì‚¬ìš©ì: ${result.user.login}</p>`;
                } else {
                    log('âŒ GitHub ì—°ê²° ì‹¤íŒ¨', 'error');
                    log(`ì˜¤ë¥˜: ${result.error}`, 'error');

                    document.getElementById('tokenStatus').innerHTML +=
                        `<p class="error">ì—°ê²° ì‹¤íŒ¨: ${result.error}</p>`;
                }
            } catch (error) {
                log('âŒ GitHub ì—°ê²° í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜', 'error');
                log(`ì˜¤ë¥˜: ${error.message}`, 'error');
            }
        }

        // 3ë‹¨ê³„: ì˜¨ë¼ì¸ í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸
        function testOnlineClient() {
            log('ğŸŒ ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ ì¤‘...', 'info');

            if (!window.onlineDataClient) {
                log('âŒ ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤', 'error');
                document.getElementById('clientStatus').innerHTML =
                    '<p class="error">ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ ë¡œë“œ ì‹¤íŒ¨</p>';
                return;
            }

            const client = window.onlineDataClient;
            let html = '<h3>í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ:</h3>';

            const checks = [
                { name: 'baseUrl', value: client.baseUrl, expected: '/api/github-data-manager' },
                { name: 'githubToken', value: client.githubToken ? `${client.githubToken.substring(0, 8)}...` : 'null' },
                { name: 'cache', value: client.cache ? 'Map ê°ì²´ ì¡´ì¬' : 'null' },
                { name: 'requestQueue', value: `ë°°ì—´ (ê¸¸ì´: ${client.requestQueue?.length || 0})` }
            ];

            checks.forEach(check => {
                html += `<p>â€¢ ${check.name}: ${check.value}</p>`;
                log(`ğŸ“Š ${check.name}: ${check.value}`, 'info');
            });

            document.getElementById('clientStatus').innerHTML = html;
            log('âœ… ì˜¨ë¼ì¸ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ í™•ì¸ ì™„ë£Œ', 'success');
        }

        async function testCharacterLoad() {
            if (!window.onlineDataClient) {
                log('âŒ ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            if (!githubToken) {
                log('âŒ GitHub Tokenì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            log('ğŸ“¥ ìºë¦­í„° ë¡œë“œ í…ŒìŠ¤íŠ¸ ì¤‘...', 'info');

            try {
                const characters = await window.onlineDataClient.loadCharacters();
                const count = Object.keys(characters).length;

                log(`âœ… ìºë¦­í„° ë¡œë“œ ì„±ê³µ! ì´ ${count}ê°œ`, 'success');

                if (count > 0) {
                    const characterNames = Object.values(characters).map(c => c.name || c.id).join(', ');
                    log(`ìºë¦­í„° ëª©ë¡: ${characterNames}`, 'info');
                }

                document.getElementById('clientStatus').innerHTML +=
                    `<p class="success">ìºë¦­í„° ë¡œë“œ ì„±ê³µ: ${count}ê°œ</p>`;

            } catch (error) {
                log('âŒ ìºë¦­í„° ë¡œë“œ ì‹¤íŒ¨', 'error');
                log(`ì˜¤ë¥˜: ${error.message}`, 'error');

                document.getElementById('clientStatus').innerHTML +=
                    `<p class="error">ìºë¦­í„° ë¡œë“œ ì‹¤íŒ¨: ${error.message}</p>`;
            }
        }

        // 4ë‹¨ê³„: ìºë¦­í„° ì €ì¥ í…ŒìŠ¤íŠ¸
        async function testCharacterSave() {
            const name = document.getElementById('testCharName').value.trim();
            const mbti = document.getElementById('testCharMbti').value;

            if (!name || !mbti) {
                log('âŒ ì´ë¦„ê³¼ MBTIë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
                document.getElementById('saveStatus').innerHTML =
                    '<p class="error">ì´ë¦„ê³¼ MBTIë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>';
                return;
            }

            if (!window.onlineDataClient) {
                log('âŒ ì˜¨ë¼ì¸ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            if (!githubToken) {
                log('âŒ GitHub Tokenì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            log(`ğŸ’¾ í…ŒìŠ¤íŠ¸ ìºë¦­í„° ì €ì¥ ì¤‘: ${name} (${mbti})`, 'info');

            const testCharacter = {
                id: `debug_${name.toLowerCase()}_${mbti.toLowerCase()}_${Date.now()}`,
                name: name,
                age: '22',
                gender: 'female',
                mbti: mbti,
                personality_traits: ['ì¹œê·¼í•œ', 'í…ŒìŠ¤íŠ¸ìš©'],
                major: 'test',
                relationship: 'friend',
                speech_style: 'ë””ë²„ê·¸ ì „ìš© ë§íˆ¬',
                speech_habit: 'í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤',
                created_at: new Date().toISOString(),
                test_data: true,
                debug_marker: 'CREATED_BY_DEBUG_TOOL'
            };

            try {
                const result = await window.onlineDataClient.saveCharacter(testCharacter);

                if (result.success) {
                    log('âœ… í…ŒìŠ¤íŠ¸ ìºë¦­í„° ì €ì¥ ì„±ê³µ!', 'success');
                    log(`ì €ì¥ëœ ID: ${result.id}`, 'info');

                    document.getElementById('saveStatus').innerHTML =
                        `<p class="success">ìºë¦­í„° ì €ì¥ ì„±ê³µ! ID: ${result.id}</p>`;
                } else {
                    log('âŒ í…ŒìŠ¤íŠ¸ ìºë¦­í„° ì €ì¥ ì‹¤íŒ¨', 'error');
                    log(`ì˜¤ë¥˜: ${result.error}`, 'error');

                    document.getElementById('saveStatus').innerHTML =
                        `<p class="error">ì €ì¥ ì‹¤íŒ¨: ${result.error}</p>`;
                }
            } catch (error) {
                log('âŒ ìºë¦­í„° ì €ì¥ ì¤‘ ì˜¤ë¥˜', 'error');
                log(`ì˜¤ë¥˜: ${error.message}`, 'error');

                document.getElementById('saveStatus').innerHTML =
                    `<p class="error">ì €ì¥ ì˜¤ë¥˜: ${error.message}</p>`;
            }
        }

        // 5ë‹¨ê³„: ë”ë¯¸ ë°ì´í„° ê´€ë¦¬
        async function checkDummyData() {
            log('ğŸ” ë”ë¯¸ ë°ì´í„° í™•ì¸ ì¤‘...', 'info');

            // LocalStorage í™•ì¸
            const localChars = localStorage.getItem('chatgame_characters');
            const localScenarios = localStorage.getItem('scenarios');

            let html = '<h3>ë¡œì»¬ ë°ì´í„° ìƒíƒœ:</h3>';
            html += `<p>â€¢ chatgame_characters: ${localChars ? 'EXISTS' : 'EMPTY'}</p>`;
            html += `<p>â€¢ scenarios: ${localScenarios ? 'EXISTS' : 'EMPTY'}</p>`;

            // ì˜¨ë¼ì¸ ë°ì´í„° í™•ì¸
            if (window.onlineDataClient && githubToken) {
                try {
                    const characters = await window.onlineDataClient.loadCharacters();
                    const count = Object.keys(characters).length;
                    html += `<p>â€¢ ì˜¨ë¼ì¸ ìºë¦­í„°: ${count}ê°œ</p>`;
                    log(`ğŸ“Š ì˜¨ë¼ì¸ ìºë¦­í„°: ${count}ê°œ`, 'info');
                } catch (error) {
                    html += `<p>â€¢ ì˜¨ë¼ì¸ ìºë¦­í„°: ë¡œë“œ ì‹¤íŒ¨</p>`;
                    log('âŒ ì˜¨ë¼ì¸ ìºë¦­í„° ë¡œë“œ ì‹¤íŒ¨', 'error');
                }
            }

            document.getElementById('dummyStatus').innerHTML = html;
        }

        async function clearAllDummyData() {
            if (!confirm('ì •ë§ë¡œ ëª¨ë“  ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                return;
            }

            log('ğŸ—‘ï¸ ëª¨ë“  ë”ë¯¸ ë°ì´í„° ì‚­ì œ ì¤‘...', 'warning');

            // LocalStorage ì •ë¦¬
            localStorage.removeItem('chatgame_characters');
            localStorage.removeItem('scenarios');
            localStorage.removeItem('episodes');
            log('âœ… LocalStorage ë”ë¯¸ ë°ì´í„° ì‚­ì œ ì™„ë£Œ', 'success');

            // ì˜¨ë¼ì¸ í´ë¼ì´ì–¸íŠ¸ ìºì‹œ ì •ë¦¬
            if (window.onlineDataClient && window.onlineDataClient.clearCache) {
                window.onlineDataClient.clearCache();
                log('âœ… ì˜¨ë¼ì¸ í´ë¼ì´ì–¸íŠ¸ ìºì‹œ ì •ë¦¬ ì™„ë£Œ', 'success');
            }

            document.getElementById('dummyStatus').innerHTML =
                '<p class="success">ëª¨ë“  ë”ë¯¸ ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤</p>';
        }

        async function cleanupTestData() {
            if (!window.onlineDataClient || !githubToken) {
                log('âŒ ì •ë¦¬ì— í•„ìš”í•œ ë„êµ¬ê°€ ì—†ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            log('ğŸ§¹ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ ì¤‘...', 'info');

            try {
                const characters = await window.onlineDataClient.loadCharacters();
                const testChars = Object.values(characters).filter(c => c.debug_marker || c.test_data);

                log(`ğŸ” ${testChars.length}ê°œì˜ í…ŒìŠ¤íŠ¸ ìºë¦­í„° ë°œê²¬`, 'info');

                for (const char of testChars) {
                    try {
                        await window.onlineDataClient.deleteCharacter(char.id);
                        log(`âœ… í…ŒìŠ¤íŠ¸ ìºë¦­í„° ì‚­ì œ: ${char.name}`, 'success');
                    } catch (error) {
                        log(`âŒ ì‚­ì œ ì‹¤íŒ¨: ${char.name} - ${error.message}`, 'error');
                    }
                }

                document.getElementById('saveStatus').innerHTML +=
                    `<p class="info">í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ ì™„ë£Œ</p>`;

            } catch (error) {
                log('âŒ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬ ì¤‘ ì˜¤ë¥˜', 'error');
                log(`ì˜¤ë¥˜: ${error.message}`, 'error');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì²´í¬
        window.onload = function() {
            log('ğŸš€ ë””ë²„ê¹… ë„êµ¬ ë¡œë“œ ì™„ë£Œ', 'success');
            setTimeout(checkScriptLoading, 1000); // 1ì´ˆ í›„ ìë™ ì²´í¬
        };
    </script>
</body>
</html>